<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<section data-background="images/title_background.jpg">
          <h1>Romhacking 101</h1>
          <h2>Changing text</h2>

					<p>
						<small>Created by <a href="http://www.buwaro.com">Furexa</a> / <a href="http://twitter.com/blepsnep">@blepsnep</a></small>
          </p>
        </section>

        <section data-background="images/about_me_background.png">
          <aside class="notes">
            * I'm Furexa, and when I was a kid,
            * i often wandered pointlessly around the playground, hoping that playtime and school was over ASAP.
            * until someday, something caught my attention.
            * i saw some kid holding a grey box, with lots of other kids surrounding him.
            * I went towards him and looked over hes sholder.
            * That was the first time i saw someone playing pokemon on a gameboy.
            * i knew i wanted to try it as well.
            * but my parents didn't want to buy be a gameboy, nor i had the money for it.
            * surely there had to be another way.
            * luckely my parents were nerds avant la lettre, so we already had an computer.
            * i started looking on the internet and typed in stupid words like "gameboy on pc"
            * eventually i found an emulator and the game.
            * i was happy to see that it ran at 60% of the speed.
            * because, back then, a gameboy emulator was quite cpu intensive for our pc.
            * after playing pokemon for a while, i started thinking:
            * wouldn't it be funny if it was in dutch?
            * I had all sorts of fun ideas how it would be like.
            * a few days later, my brother came to me and said: Yes it's possible! and apparently not that hard.
            * and this is how my interest in romhacking started.
          </aside>
          <h2>About me</h2>
        </section>

        <section>
          <section>
            <aside class="notes">
              * What is romhacking?
              * Let's break the word down in 2 pieces:
            </aside>
            <h2>romhacking?</h2>
          </section>

          <section>
            <aside class="notes">
              * is actually this chip on the game cartridge.
              * it holds all the game data.
              * and a romfile is a backup of the data this chip contains.
            </aside>
            <h2>ROM</h2>
            <p class="fragment fade-up">Read Only Memory</p>
          </section>

          <section>
            <aside class="notes">
              * the word has been bastardised over the past years
              * but to me, it means
              * changing something to make it work in an unintended way.
              * example: this game wasn't made to be able to change the text, but yet we did.
            </aside>
            <h2>Hacking</h2>
            <span class="fragment fade-up">changing something</span>
            <span class="fragment fade-up">to make it work</span>
            <span class="fragment fade-up">in an unintended way</span>
          </section>
        </section>

        <section>
          <aside class="notes">
            * basically everything!
            * to name a few
            * add/remove levels
            * or even import assets from other games
            * each one of these definitely deserves it's own presentation.
            * but here we're going to focus on the changing text part
          </aside>
          <section>
            <h2>What can we do with it?</h2>
            <ul class="fragment fade-up">
              <li>change logic</li>
              <li>change sprites</li>
              <li>change music</li>
              <li>change text</li>
            </ul>
          </section>
        </section>

        <!-- <1!-- we can even import assets from other games --1> -->
        <!-- <section> -->
        <!--   <section id="fragments"> -->
        <!--     <aside class="notes"> -->
        <!--       * yes but, what can we actually do with it? -->
        <!--       * optimisations: a super nintendo has lots of arcade game ports. and some of them were quite rushed. -->
        <!--       * new levels in pokemon -->
        <!--     </aside> -->
        <!--     <h2>But Whyyyy?!!</h2> -->
        <!--     <p><span class="fragment">Graphical/Sound optimizations</span></p> -->
        <!--     <p><span class="fragment">New levels/items</span></p> -->
        <!--     <p><span class="fragment">Changing the text</span></p> -->
        <!--     <aside class="notes"> -->
        <!--       arcade ports verbeteren:<br /> -->
        <!--       minder krakend/helder geluid<br /> -->
        <!--       minder ruis/kleurvoller beeld<br /> -->

        <!--       nieuwe items toevoegen<br /> -->

        <!--       vertalen toegankelijk maakt voor andere mensen<br /> -->
        <!--     </aside> -->
        <!--   </section> -->
        <!-- </section> -->

        <section>
          <section id="fragments">
            <aside class="notes">
              * Ok, so what do we need?
            </aside>
            <h2>Tools</h2>
            <ul class="fragment fade-up">
              <li>hex editor</li>
              <li>relative searcher</li>
            </ul>
          </section>

          <section>
            <aside class="notes">
              * A hex editor is used to change the data in the romfile
              * Here's a list of some very good hex editors
              * the top 3 are professional tools that are actually ment to use for data recovery and forensics
              * but they are not free
              * And because i'm a cheapskate, I went for windhex: it's free and specifically made with romhacking in mind
            </aside>
            <h3>hex editors</h3>
            <ul>
              <li>hex workshop</li>
              <li>winhex</li>
              <li>010 editor</li>
              <li>windhex</li>
            </ul>
            <img src="images/windhex.png" />
          </section>

          <section>
            <aside class="notes">
              * A relative searcher is going to help us with finding the text in the romfile.
              * Later in the presentation i'll explain how to use it and how it works
            </aside>
            <h3>Relative searcher</h3>
            <p>monkey moore</p>
            <p>Rsearch</p>
            <img src="images/rsearch.png" />
          </section>
        </section>

        <section>
          <aside class="notes">
            * now the only thing left we need is a game
            * and i ended up choosing this one
            * It's tamagochi like game
            * It was only released in japan
            * And i could't find any existing translation patches online
          </aside>
          <h3>The game</h3>
          <p>Animal Breeder (gameboy)</p>
          <img src="images/ab_title_screen.png" style="float: left;" />
          <img src="images/ab_in_game.png" style="float: left;" />
        </section>

        <section data-background="images/lets_get_started.jpg">
          <h2>Lets get started</h2>
        </section>

        <section>
          <section>
            <aside class="notes">
              * First little BIT of theory which we're gonna need later on
              * 1 bit can be 0 or a 1
              * 1 byte = 8 bits
            </aside>
            <h2>Theory</h2>
            <h3>bits & bytes</h3>
            <ul>
              <li class="fragment fade-up">1 bit = 0 or 1</li>
              <li class="fragment fade-up">1 byte = 8 bits</li>
            </ul>
          </section>
          <section>
            <aside class="notes">
              * we all are used to count to 10.
              * but for this, we're gonna need a hexadecimal counting system.
              * this means that we can count to 16 before we need another character
              * how do we do that?
              * we count from 0 to F
              * 1 hexadecimal is 4 bits big
              * so, representing a hexadecimal as bits would look something like this
            </aside>
            <h2>Theory</h2>
            <h3>hexadecimals</h3>
            <p class="fragment fade-up">0-9 and A-F</p>
            <p class="fragment fade-up">4 bits</p>

            <ul class="fragment fade-up">
              <li>0 = 0000</li>
              <li>1 = 0001</li>
              <li>2 = 0010</li>
              <li>...</li>
              <li>D = 1101</li>
              <li>E = 1110</li>
              <li>F = 1111</li>
            </ul>
          </section>
        </section>
                
          <!-- <p>Searching the text</p> -->
          <!-- <img src="images/windhex_empty.png" style="width:45%;" /> -->
          <!-- <img src="images/windhex.png" style="width:45%" /> -->
          <!-- <aside class="notes"> -->
          <!--   van jiberish naar leesbaar japans -->
          <!--   zoeken welke byte overeenkomt met welke letter/teken<br /> -->

          <!--   daarvoor relative search gebruiken -->
          <!-- </aside> -->
        
          <section>
            <h3>Searching the text</h3>
            <section>
              <aside class="notes">
                * with that out of the way, lets try to find some texts.
                * first, we choose a word in game that we like to find
                * then, we're gonna use rsearch to scan through the file
                * but, rsearch only accepts romaji written texts, so we need to find some way to do this.
                * and as it turns out, google translate is quite a handy tool for this job.
                * when you translate from japanese to english, you can press the pencil button to draw the signs instead of type them
                * and below the input box is even the romaji version of the word
                * When running rsearch it returns a list of all possible hexadecimals that could be the word that we were looking for and the address where it's located
              </aside>
              <br />
              <img src="images/animal_name.jpg" />
              <span class="fragment">
                <img src="images/search_1.png" width="70%" />
                <img src="images/search_2.png" />
              </span>
              <img class="fragment" src="images/rsearch_rion.png" />
            </section>
          </section>

                <section>
                    <section>
                        <h3>Changing the text</h3>
                        <span class="fragment">
                            <img src="images/found_result.png" />
                        </span>
                        <span class="fragment">
                            <img src="images/changed_result.png" />
                        </span>
                        <span class="fragment">
                            <img src="images/changed_animal_name.png" />
                        </span>
                        <aside class="notes">
                            ga naar de gevonden resultaat in windhex<br />
                            daar de letters wat aanpassen <br />
                            van hieruit alle letters vinden
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>found letters</h3>
                        <pre>Table file:<code class="hljs">
00=あ
01=い
02=う
03=え
04=お
05=か
06=き
07=く
08=け
09=こ
0A=さ
0B=し
0C=す
0D=せ
0E=そ
0F=た
10=ち
11=つ
12=て
13=と
14=な
15=に
16=ぬ
17=ね
18=の
19=は
1A=ひ
1B=ふ
1C=へ
1D=ほ
1E=ま
                        </code></pre>
                    </section>
                    <section>
                        <img src="images/windhex.png"/>
                    </section>
                </section>


                <section>
                    <h3>Relative searching...but how??</h3>
                    <section>
                        <span class="fragment">
                            <pre>abc alphabet order:<code class="hljs">
                            a = first letter
                            b = second letter
                            c = third letter
                            </code></pre>
                        </span>
                        <span class="fragment">
                            <pre>file:<code class="hljs">
                            04 05 06 07 08
                            </code></pre>
                        </span>
                        <span class="fragment">
                            <pre>results:<code class="hljs">
                            1) 04 05 06
                            2) 05 06 07
                            3) 06 07 08
                            </code></pre>
                        </span>
                        <aside class="notes">
                            <ul>
                            <li> hoe werkt het nu juist?</li>
                            <li>Stel we willen abc zoeken</li>
                            <li>Stel ge hebt ne file dat er zo uitziet</li>
                            <li>maakt niet uit of dat a 1 is of 20, zolang dat b en c erop volgen</li>
                            <li>3 opeenvolgende letters zoeken is een slecht idee. Best een woord zoeken van minstens 4 letters met zo veel mogelijk variatie in</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <section>
                    <h3>Workflow</h3>
                    <section>
                        <img src="images/text_to_find.png" />
                    </section>
                    <section>
                        <img src="images/hiragana.png" />
                    </section>
                    <section>
                        <pre>alphabet:<code class="hljs">
あいうえお = aiueo = 00 01 02 03 04
かきくけこ = kakikukeko = 05 06 07 08 09
さしすせそ = sashisuseso = 0A 0B 0C 0D 0E

たちつてと = tachitsuteto = 0F 10 11 12 13
なにぬねの = naninuneno = 14 15 16 17 18
はひふへほ = wahifueho = 19 1A 1B 1C 1D

まみむめも = mamimumemo = 1E 1F 20 21 22
やゆよ = yayuyo = 23 24 25
らりるれろ = rarirurero = 26 27 28 29 2A

わん”。ー = wao".ｰ = 2B 2D ?? ?? ??
を = 2C

ぁぃぅぇぉ = aiueo = 2E 2F 30 31 32
ゃゅょっ = ~ya~yu~yo~tsu = 33 34 35 36
                        </code></pre>
                    </section>
                    <section>
                        <img src="images/found_text.png" />
                    </section>

                    <aside class="notes">
                        lage resolutie => tekens niet altijd duidelijk
                        japans niet handig => zoeken op hex
                    </aside>
                </section>

                <section>
                    <h1>Proof of concept</h1>
                </section>

                <section data-background-image="images/questions.jpg">
                    <h1>Questions?</h1>
                </section>
            </div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
